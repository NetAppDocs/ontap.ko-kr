---
permalink: disks-aggregates/create-aggregates-auto-provision-task.html 
sidebar: sidebar 
keywords: ontap 9, create, aggregates, auto-provision, add, local tier, automatic, automatically 
summary: 'ONTAP가 로컬 계층을 자동으로 추가하는 데 제공하는 Best Practice 권장 사항(자동 프로비저닝을 통해 애그리게이트 생성)이 사용자 환경에 적합한 경우, 권장 사항을 수락하고 ONTAP가 로컬 계층을 추가하도록 할 수 있습니다.' 
---
= 로컬 계층을 자동으로 추가(자동 프로비저닝을 통해 애그리게이트 생성)
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ONTAP가 로컬 계층을 자동으로 추가하는 데 제공하는 Best Practice 권장 사항(자동 프로비저닝을 통해 애그리게이트 생성)이 사용자 환경에 적합한 경우, 권장 사항을 수락하고 ONTAP가 로컬 계층을 추가하도록 할 수 있습니다.

.시작하기 전에
디스크를 로컬 계층(애그리게이트)에서 사용하려면 먼저 노드가 디스크를 소유해야 합니다.  클러스터가 자동 디스크 소유권 할당을 사용하도록 구성되어 있지 않은 경우, 반드시 해야 합니다 link:manual-assign-disks-ownership-prep-task.html["소유권을 수동으로 할당합니다"].

[role="tabbed-block"]
====
.시스템 관리자
--
.단계
. System Manager에서 * Storage > Tiers * 를 클릭합니다.
. Tiers * 페이지에서 을 클릭합니다 image:icon-add-local-tier.png["로컬 계층 추가 아이콘"] 새 로컬 계층을 생성하려면 다음을 수행합니다.
+
Add Local Tier * 페이지에는 노드에서 생성할 수 있는 권장 로컬 계층 수와 사용 가능한 스토리지가 표시됩니다.

. System Manager에서 권장하는 구성을 보려면 * 권장 세부 정보 * 를 클릭하십시오.
+
시스템 관리자는 ONTAP 9.8부터 다음과 같은 정보를 표시합니다.

+
** * 로컬 계층 이름 * (ONTAP 9.10.1로 시작하는 로컬 계층 이름을 편집할 수 있음)
** * 노드 이름 *
** * 사용 가능한 크기 *
** * 스토리지 유형 *


+
ONTAP 9.10.1부터 추가 정보가 표시됩니다.

+
** * 디스크 *: 디스크 수, 크기 및 유형을 표시합니다
** * Layout *: RAID 그룹 레이아웃을 표시합니다. 여기에는 패리티 또는 데이터인 디스크와 사용하지 않는 슬롯이 포함됩니다.
** * 스페어 디스크 *: 노드 이름, 스페어 디스크의 수와 크기 및 스토리지 유형을 표시합니다.


. 다음 단계 중 하나를 수행합니다.
+
|===


| 원하는 사항 | 그런 다음... 


 a| 
System Manager의 권장 사항을 수락합니다.
 a| 
로 진행합니다 <<step5-okm-encrypt,암호화를 위해 Onboard Key Manager를 구성하는 단계입니다>>.



 a| 
로컬 계층을 수동으로 구성하고 *_NOT_ * 는 System Manager의 권장 사항을 사용합니다.
 a| 
로 진행합니다 link:create-aggregates-manual-task.html["로컬 계층을 수동으로 추가합니다(애그리게이트 생성)"]:

** ONTAP 9.10.1 이전 버전의 경우 CLI 사용 단계를 따릅니다.
** ONTAP 9.11.1부터 시스템 관리자 사용 단계를 따릅니다.


|===
. [[step5-okm-encrypt](선택 사항): Onboard Key Manager가 설치된 경우 암호화를 위해 구성할 수 있습니다. 암호화에 대해 Onboard Key Manager 구성 * 확인란을 선택합니다.
+
.. 암호를 입력합니다.
.. 암호를 다시 입력하여 확인합니다.
.. 시스템을 복구해야 하는 경우 나중에 사용할 수 있도록 암호를 저장합니다.
.. 나중에 사용할 수 있도록 키 데이터베이스를 백업합니다.


. 저장 * 을 클릭하여 로컬 계층을 생성하고 스토리지 솔루션에 추가합니다.


--
.CLI를 참조하십시오
--
'Storage aggregate auto-provision' 명령을 실행하여 애그리게이트 레이아웃 권장 사항을 생성합니다. 그런 다음 ONTAP 권장사항을 검토하고 승인한 후 애그리게이트를 생성할 수 있습니다.

.필요한 것
ONTAP 9.2 이상이 클러스터에서 실행 중이어야 합니다.

.이 작업에 대해
'Storage aggregate auto-provision' 명령을 통해 생성된 기본 요약에는 이름과 사용 가능한 크기를 비롯하여 생성할 권장 애그리게이트가 나열됩니다. 목록을 보고 메시지가 표시될 때 권장 애그리게이트를 만들 것인지 결정할 수 있습니다.

다음 보고서를 표시하는 '-verbose' 옵션을 사용하여 자세한 요약을 표시할 수도 있습니다.

* 애그리게이트를 생성한 후 생성, 검색된 스페어 및 나머지 스페어 디스크와 파티션을 생성할 새 애그리게이트의 노드 요약
* 사용할 디스크 및 파티션 수로 생성할 새로운 데이터 애그리게이트
* 생성할 새 데이터 애그리게이트에서 스페어 디스크 및 파티션을 사용하는 방법을 보여주는 RAID 그룹 레이아웃
* Aggregate 생성 후 남아 있는 스페어 디스크 및 파티션에 대한 세부 정보입니다


자동 프로비저닝 방법에 익숙하고 환경이 제대로 준비되었으면 '-skip-confirmation' 옵션을 사용하여 표시 및 확인 없이 권장 집계를 생성할 수 있습니다. 스토리지 집계 자동 프로비저닝 명령은 CLI 세션 확인 설정의 영향을 받지 않습니다.

를 클릭합니다[`storage aggregate auto-provision` man 페이지^]애그리게이트 레이아웃 권장 사항에 대한 자세한 정보를 제공합니다.

.단계
. 원하는 표시 옵션으로 'Storage aggregate auto-provision' 명령을 실행합니다.
+
** 옵션 없음: 표준 요약을 표시합니다
** '-verbose' 옵션: 상세 요약 표시
** '-skip-confirmation' 옵션: 표시 또는 확인 없이 권장 집계를 생성합니다


. 다음 단계 중 하나를 수행합니다.
+
[cols="35,65"]
|===


| 원하는 사항 | 그런 다음... 


 a| 
ONTAP의 권장 사항을 수락합니다.
 a| 
권장 애그리게이트 표시를 검토한 다음 프롬프트에 응답하여 권장 애그리게이트를 생성합니다.

[listing]
----
myA400-44556677::> storage aggregate auto-provision
Node               New Data Aggregate            Usable Size
------------------ ---------------------------- ------------
myA400-364        myA400_364_SSD_1                    3.29TB
myA400-363        myA400_363_SSD_1                    1.46TB
------------------ ---------------------------- ------------
Total:             2   new data aggregates            4.75TB

Do you want to create recommended aggregates? {y|n}: y

Info: Aggregate auto provision has started. Use the "storage aggregate
      show-auto-provision-progress" command to track the progress.

myA400-44556677::>

----


 a| 
로컬 계층을 수동으로 구성하고 ONTAP의 권장 사항을 * _NOT_* 사용하십시오.
 a| 
로 진행합니다 link:create-aggregates-manual-task.html["로컬 계층을 수동으로 추가합니다(애그리게이트 생성)"].

|===


--
====
.관련 정보
http://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-cmpr/GUID-5CB10C70-AC11-41C0-8C16-B4D0DF916E9B.html["ONTAP 9 명령"^]
