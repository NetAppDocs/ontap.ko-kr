---
permalink: upgrade/task_download_and_install_ontap_software_image.html 
sidebar: sidebar 
keywords: ontap, software, image, download, downloading, install, installing 
summary: '먼저 NetApp Support 사이트에서 ONTAP 소프트웨어를 다운로드한 다음 자동 무중단 업그레이드(ANDU) 또는 수동 업그레이드 프로세스를 사용하여 설치할 수 있습니다.' 
---
= ONTAP 소프트웨어 이미지를 다운로드하고 설치합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
먼저 NetApp Support 사이트에서 ONTAP 소프트웨어를 다운로드한 다음 자동 무중단 업그레이드(ANDU) 또는 수동 업그레이드 프로세스를 사용하여 설치할 수 있습니다.



== 소프트웨어 이미지를 다운로드합니다

ONTAP 버전에 따라 NetApp Support 사이트에서 네트워크의 HTTP, HTTPS 또는 FTP 서버, 로컬 폴더 중 하나로 ONTAP 소프트웨어 이미지를 복사할 수 있습니다.

다음과 같은 중요 정보를 확인해야 합니다.

* 소프트웨어 이미지는 플랫폼 모델에 따라 다릅니다.
+
클러스터에 맞는 올바른 이미지를 얻어야 합니다. 플랫폼 모델의 소프트웨어 이미지, 펌웨어 버전 정보 및 최신 펌웨어는 NetApp Support 사이트에서 제공됩니다.

* 소프트웨어 이미지에는 특정 버전의 ONTAP가 릴리스되었을 때 사용할 수 있는 최신 버전의 시스템 펌웨어가 포함되어 있습니다.
* NetApp 볼륨 암호화가 있는 시스템을 ONTAP 9.5 이상으로 업그레이드할 경우 NetApp 볼륨 암호화를 포함하는 비제한 국가의 ONTAP 소프트웨어 이미지를 다운로드해야 합니다.
+
제한된 국가에서 ONTAP 소프트웨어 이미지를 사용하여 NetApp 볼륨 암호화를 사용하는 시스템을 업그레이드하면 시스템 패닉이 발생하고 볼륨에 대한 액세스가 손실됩니다.

* ONTAP 9.5에서 9.9.1로 업그레이드하는 경우 ONTAP 9.7 및 9.9.1용 소프트웨어 이미지를 복사해야 합니다.
* ONTAP 9.3에서 9.7로 업그레이드하는 경우 ONTAP 9.5 및 9.7용 소프트웨어 이미지를 복사해야 합니다.


.단계
. 에서 대상 ONTAP 소프트웨어를 찾습니다 link:http://mysupport.netapp.com/NOW/cgi-bin/software["소프트웨어 다운로드"] NetApp Support 사이트의 영역입니다.
+
ONTAP Select 업그레이드의 경우 * ONTAP Select 노드 업그레이드 * 를 선택합니다.

. 소프트웨어 이미지(예: 97_q_image.tgz)를 적절한 위치에 복사합니다.
+
ONTAP 릴리스에 따라 이미지는 로컬 시스템 또는 스토리지 시스템의 로컬 폴더에 서비스될 HTTP, HTTPS 또는 FTP 서버 디렉토리입니다.

+
[cols="2"]
|===
| 이 위치에 이미지를 복사할 수 있습니다... | 이러한 ONTAP 릴리스를 실행 중인 경우... 


| HTTP 또는 FTP 서버 | ONTAP 9.0 이상 


| 로컬 폴더입니다 | ONTAP 9.4 이상 


| HTTPS 서버 + 서버의 CA 인증서가 로컬 시스템에 설치되어 있어야 합니다. | ONTAP 9.6 이상 
|===




== 소프트웨어 이미지를 설치합니다

클러스터 노드에 타겟 소프트웨어 이미지를 설치해야 합니다.

* NetApp 볼륨 암호화가 있는 시스템을 ONTAP 9.5 이상으로 업그레이드할 경우 NetApp 볼륨 암호화를 포함하는 비제한 국가의 ONTAP 소프트웨어 이미지를 다운로드해야 합니다.
+
제한된 국가에서 ONTAP 소프트웨어 이미지를 사용하여 NetApp 볼륨 암호화를 사용하는 시스템을 업그레이드하면 시스템 패닉이 발생하고 볼륨에 대한 액세스가 손실됩니다.

* ONTAP 9.5에서 9.9.1로 직접 업그레이드하는 경우 ONTAP 9.7 및 9.9.1용 소프트웨어 이미지를 다운로드해야 합니다. ONTAP 9.3에서 9.7로 직접 업그레이드하는 경우 ONTAP 9.5 및 9.7용 소프트웨어 이미지를 다운로드해야 합니다.
+
자동 업그레이드 프로세스는 백그라운드에서 두 이미지를 모두 사용하여 업그레이드를 완료합니다.





=== 자동 무중단 업그레이드(ANDU)

. 이미지 저장소를 확인하고 이전 이미지를 삭제합니다.
+
클러스터 이미지 패키지 보기 리포지토리

+
[listing]
----
cluster image package show-repository\
<<name_of_vsim|There are no packages in the repository.\r\n
----
. 이미지를 다운로드합니다.
+
'클러스터 이미지 패키지 get-url URL_to_image_on_NSS'

+
클러스터 이미지 패키지 get-url http://10.60.132.98/x/eng/rlse/DOT/9.7P13X2/promo/9.7P13X2/x86_64.optimize/image.tgz`[]

. 패키지가 다운로드되었는지 확인합니다.
+
클러스터 이미지 패키지 보기 리포지토리

+
.예
[listing]
----
cluster image package show-repository -fields download-ver\
<<name_of_vsim| download-verX;X\r\n
<<name_of_vsim| Downloaded VersionX;X\r\n
<<name_of_vsim| ONTAP 9.10.1.X;X\r\n
----




=== 수동 업그레이드용

. "Set-Privilege advanced"라는 메시지가 나타나면 * y * 를 입력하여 권한 수준을 advanced로 설정합니다
+
고급 프롬프트('*>')가 나타납니다.

. 이미지를 다운로드합니다.
+
.. MetroCluster 구성 또는 2노드 MetroCluster 구성이 없는 클러스터를 업그레이드하는 경우 다음 명령을 사용하여 이미지를 다운로드하십시오.
+
'System node image update-node * -package_location_-replace-package true-SetDefault true-background true'

+
_location_은 ONTAP 버전에 따라 웹 서버 또는 로컬 폴더일 수 있습니다. 자세한 내용은 '시스템 노드 이미지 업데이트' man 페이지를 참조하십시오.

+
이 명령은 모든 노드에 소프트웨어 이미지를 동시에 다운로드하고 설치합니다. 각 노드에 이미지를 한 번에 하나씩 다운로드하여 설치하려면 '-background' 매개 변수를 지정하지 마십시오.

.. 4노드 또는 8노드 MetroCluster 구성을 업그레이드할 경우 두 클러스터 모두에서 다음 명령을 실행해야 합니다.
+
'System node image update-node * -package location-replace-package true-background true-SetDefault false'

+
이 명령은 확장 쿼리를 사용하여 각 노드에 대체 이미지로 설치된 대상 소프트웨어 이미지를 변경합니다.



. 메시지가 나타나면 y를 입력하여 계속합니다.
. 소프트웨어 이미지가 각 노드에 다운로드되고 설치되었는지 확인합니다.
+
'System node image show-update-progress-node *'

+
이 명령은 소프트웨어 이미지 다운로드 및 설치의 현재 상태를 표시합니다. 모든 노드에서 * 종료 * 의 * 실행 상태 * 와 * 성공 * 의 * 종료 상태 * 가 보고될 때까지 이 명령을 계속 실행해야 합니다.

+
시스템 노드 이미지 업데이트 명령이 실패하고 오류 또는 경고 메시지가 표시될 수 있습니다. 오류 또는 경고를 해결한 후에는 명령을 다시 실행할 수 있습니다.

+
이 예는 소프트웨어 이미지가 다운로드되어 두 노드에 성공적으로 설치되는 2노드 클러스터를 보여줍니다.

+
[listing]
----
cluster1::*> system node image show-update-progress -node *
There is no update/install in progress
Status of most recent operation:
        Run Status:     Exited
        Exit Status:    Success
        Phase:          Run Script
        Exit Message:   After a clean shutdown, image2 will be set as the default boot image on node0.
There is no update/install in progress
Status of most recent operation:
        Run Status:     Exited
        Exit Status:    Success
        Phase:          Run Script
        Exit Message:   After a clean shutdown, image2 will be set as the default boot image on node1.
2 entries were acted on.
----

