---
permalink: consistency-groups/index.html 
sidebar: sidebar 
keywords: consistency groups, consistency group protection, application protection 
summary: ONTAP에서는 계층적 일관성 그룹, 단일 일관성 그룹, 보호 정책 및 업그레이드 고려 사항을 비롯한 일관성 그룹을 사용할 수 있습니다. 
---
= 일관성 그룹 개요
:icons: font
:imagesdir: ../media/


[role="lead"]
정합성 보장 그룹은 여러 볼륨에 걸쳐 있는 애플리케이션 워크로드에 대해 쓰기 순서 정합성을 보장하는 볼륨 모음입니다.

정합성 보장 그룹은 애플리케이션 워크로드 관리를 용이하게 하여 로컬 및 원격 보호 정책을 손쉽게 관리하고 특정 시점의 볼륨 컬렉션에 대한 충돌 시에도 정합성이 보장되거나 애플리케이션 정합성이 보장되는 Snapshot 복사본을 동시에 제공합니다. 일관성 그룹의 스냅샷을 사용하면 전체 애플리케이션 워크로드를 복원할 수 있습니다.

일관성 그룹은 프로토콜(NAS, SAN 또는 NVMe)에 관계없이 모든 FlexVol 볼륨을 지원하며, ONTAP REST API를 통해 또는 System Manager의 * 스토리지 > 일관성 그룹 * 메뉴 항목에서 관리할 수 있습니다.

일관성 그룹은 자체 또는 계층적 관계에 있을 수 있습니다. 개별 정합성 보장 그룹은 볼륨의 모음입니다. 볼륨에는 일관성 그룹에서 상속된 스냅샷 정책 외에도 개별 로컬 스냅샷 정책이 있을 수 있습니다. 정합성 보장 그룹에는 전체 정합성 보장 그룹을 복구하는 데 사용할 수 있는 SM-BC 관계 및 공유 SM-BC 정책이 하나만 있을 수 있습니다.

image:../media/consistency-group-single-diagram.gif["구성 볼륨 및 로컬 스냅샷 정책이 있는 단일 일관성 그룹의 다이어그램"]

애플리케이션 워크로드가 클수록 여러 개의 일관성 그룹이 필요할 수 있습니다. 이 경우 여러 일관성 그룹을 계층적 관계에 배치할 수 있습니다. 이 구성에서는 단일 일관성 그룹이 부모 일관성 그룹의 하위 구성요소가 됩니다. 상위 일관성 그룹에는 최대 5개의 하위 일관성 그룹이 포함될 수 있습니다. 개별 정합성 보장 그룹과 마찬가지로 원격 SM-BC 보호 정책을 정합성 보장 그룹(상위 및 하위)의 전체 구성에 적용하여 애플리케이션 워크로드를 복구할 수 있습니다.

image:../media/consistency-group-nested-diagram.gif["특정 볼륨이 포함된 중첩된 일관성 그룹의 다이어그램"]



== 보호

일관성 그룹은 스냅샷 정책을 통해 SM-BC(SnapMirror Business Continuity) 및 로컬 보호를 통해 원격 보호를 제공합니다. 원격 보호를 활용하려면 에 대한 요구 사항을 충족해야 합니다 xref:../smbc/smbc_plan_prerequisites.html#licensing[SnapMirror 비즈니스 연속성 구현]. 기본적으로 정합성 보장 그룹에는 보호 정책이 설정되어 있지 않으며 정책이 선택되어 있지 않으면 데이터를 보호하지 않습니다. 을 참조하십시오 link:protect-task.html[""정합성 보장 그룹 보호""] 를 참조하십시오.



== 업그레이드 고려 사항

ONTAP 9.8 및 9.9.1에서 SM-BC로 생성된 정합성 보장 그룹은 ONTAP 9.10.1로 업그레이드할 때 System Manager의 * 스토리지 > 일관성 그룹 * 또는 ONTAP REST API에서 자동으로 업그레이드되어 관리가 가능합니다. 업그레이드에 대한 자세한 내용은 를 참조하십시오 link:../smbc/smbc_admin_upgrade_and_revert_considerations.html["SM-BC 업그레이드 및 되돌리기 고려 사항"].

ONTAP REST API로 생성된 정합성 보장 그룹 스냅샷은 시스템 관리자의 정합성 보장 그룹 인터페이스와 정합성 보장 그룹 API 엔드포인트를 통해 관리할 수 있습니다.

ONTAPI 명령 "CG-start"와 "CG-commit"으로 생성된 스냅샷은 일관성 그룹 스냅샷으로 인식되지 않으므로 ONTAP API의 일관성 그룹 인터페이스 또는 일관성 그룹 끝점을 통해 관리할 수 없습니다.



== 일관성 그룹 개체 제한

|===


| 일관성 그룹 | 범위 | 최소 | 최대 


| 정합성 보장 그룹 수입니다 | 클러스터 | 0 | 클러스터의 최대 볼륨 수와 동일합니다 


| 상위 일관성 그룹의 수입니다 | 클러스터 | 0 | 클러스터의 최대 볼륨 수와 동일합니다 


| 개별 및 상위 일관성 그룹의 수입니다 | 클러스터 | 0 | 클러스터의 최대 볼륨 수와 동일합니다 


| 일관성 그룹 | 클러스터의 최대 볼륨 수와 동일합니다 | 1 | 80 


| 상위 일관성 그룹의 하위 볼륨에 있는 볼륨 수입니다 | 부모 일관성 그룹 | 1 | 80 


| 하위 일관성 그룹의 볼륨 수입니다 | 하위 일관성 그룹 | 1 | 80 


| 부모 일관성 그룹에 있는 하위 일관성 그룹의 수입니다 | 부모 일관성 그룹 | 1 | 5 
|===
SM-BC를 사용하는 경우 을 참조하십시오 link:../smbc/smbc_plan_additional_restrictions_and_limitations.html#volumes["SM-BC 제한 및 제한 사항"].



=== 비디오

video::j0jfXDcdyzE[youtube, width=848,height=480]